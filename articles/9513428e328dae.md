---
title: "RecyclerView ã« android:requiresFadingEdge ã‚’è¨­å®šã™ã‚‹ã¨å¢ƒç•Œã®ç¸ãŒå°‘ã—ã‚ªã‚µãƒ¬ã«ãªã‚‹"
emoji: "ğŸŒ«ï¸"
type: "tech"
topics: ["android", "kotlin", "recyclerview"]
published: true
---

[RecyclerView](https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView) ã« [android:requiresFadingEdge](https://developer.android.com/reference/android/view/View#attr_android:requiresFadingEdge) ã‚’è¨­å®šã™ã‚‹ã¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§é€”åˆ‡ã‚Œã‚‹å¢ƒç›®ã«å¾ã€…ã«è–„ã‚Œã‚‹æ¼”å‡ºãŒè¿½åŠ ã•ã‚Œã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå¯èƒ½ã§ã‚ã‚‹ã“ã¨ã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
[android:fadingEdgeLength](https://developer.android.com/reference/android/view/View#attr_android:fadingEdgeLength) ã§é•·ã•ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã§ã™ãŒã€é•·ã™ãã‚‹ã¨ãƒ•ã‚§ãƒ¼ãƒ‰ã®ä¸è‡ªç„¶ãªè¡¨ç¤º/éè¡¨ç¤ºã®åˆ‡ã‚Šæ›¿ã‚ã‚ŠãŒè¦‹ãˆæ˜“ããªã‚‹ãŸã‚å¤§ãã‚ã®å€¤ã¯æŒ‡å®šã—ãªã„æ–¹ãŒç„¡é›£ãã†ã§ã™ ğŸ§

## ã‚µãƒ³ãƒ—ãƒ«

```xml:list_item.xml
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android">

  <TextView
    android:id="@+id/text_view"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:textAppearance="@style/TextAppearance.AppCompat.Large" />
</layout>
```

```xml:activity_main.xml
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
  xmlns:app="http://schemas.android.com/apk/res-auto"
  xmlns:tools="http://schemas.android.com/tools">

  <androidx.recyclerview.widget.RecyclerView
    android:id="@+id/recycler_view"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:requiresFadingEdge="vertical"
    app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
    tools:context=".MainActivity"
    tools:listitem="@layout/list_item" />
</layout>
```

```kotlin:RecyclerViewBindingViewHolder.kt
abstract class RecyclerViewBindingViewHolder<out T : ViewDataBinding>(val binding: T) :
  RecyclerView.ViewHolder(binding.root) {

  constructor(parent: ViewGroup, @LayoutRes layoutId: Int) : this(
    DataBindingUtil.inflate<T>(LayoutInflater.from(parent.context), layoutId, parent, false)
  )
}
```

```kt:TextListAdapter.kt
/**
 * æ–‡å­—åˆ—è¡¨ç¤ºç”¨ã® [ListAdapter]
 */
class TextListAdapter : ListAdapter<String, RecyclerViewBindingViewHolder<*>>(
  object : DiffUtil.ItemCallback<String>() {
    override fun areItemsTheSame(oldItem: String, newItem: String) = oldItem == newItem

    override fun areContentsTheSame(oldItem: String, newItem: String) = oldItem == newItem
  }
) {

  override fun onCreateViewHolder(
    parent: ViewGroup,
    viewType: Int
  ): RecyclerViewBindingViewHolder<*> = ListItemViewHolder(parent)

  override fun onBindViewHolder(holder: RecyclerViewBindingViewHolder<*>, position: Int) {
    if (holder is ListItemViewHolder) {
      holder.bind(getItem(position))
    }
  }

  /**
   * ã‚»ãƒ«ã® [RecyclerViewBindingViewHolder]
   * 
   * @param parent [ViewGroup]
   */
  private inner class ListItemViewHolder(parent: ViewGroup) :
    RecyclerViewBindingViewHolder<ListItemBinding>(parent, R.layout.list_item) {

    fun bind(text: String) {
      binding.textView.text = text
    }
  }
}
```

```kt:MainActivity.kt
class MainActivity : AppCompatActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)

    val binding: ActivityMainBinding = DataBindingUtil.setContentView(this, R.layout.activity_main)
    val adapter = TextListAdapter()
    adapter.submitList(
      listOf(
        "èŠ±éœ‡ãµ å¯Œå£«å±± ç«å±±æ€§å¾®å‹•",
        "éŠ€ç›¤ã® å¼§ã®å‡ã‚Šã‚†ã æ˜ã‘ã®æ˜Ÿ",
        "å³è‚©ã« æ¯é‡ã®å†·æ°— 7å·è»Š",
        "ãƒãƒ³ãƒ¢ã‚¹ã® æ»…ã‚“ã ç†ç”± ã‚½ãƒ¼ãƒ€æ°´",
        "ã‚¨ãƒ«ãƒ¡ã‚¹ã®é¨å£«åƒ ç¿³ã‚Šã‚†ãé©Ÿé›¨",
        "åº–ä¸å§‹ éƒ½å¿ƒã¯ è¨ˆç”»é‹ä¼‘",
        "é›ªåŸã‚„ æ˜Ÿã‚’æŒ‡ã™ å¤§æ¨¹ã®éª¸",
        "ã‚‚ã¦ãªã—ã® è±†è…ã¶ã‚‰ä¸‹ã’ é¢¨ã®ç›†",
        "é‡è‰¯çŠ¬ã® å ãˆã‚‹æ²¼å°» èŠ±ç­",
        "å‡è …ã‚ˆ ç”Ÿç”£æ€§ã® æˆ‘ã«ã‚ã‚‹ã‚„",
        "ã¾ã‚‹ã§ã‚·ãƒ³ãƒãƒ« ç§»ã‚Šæ¥ã—è¡— ä½™å¯’",
        "ãƒ†ãƒ¼ãƒ–ãƒ«ã« å›ã®ä¸¸ã¿ã® ãƒã‚¹ã‚¯ã‹ãª",
        "è¡Œé–“ã« æ¬¡é ã®å½± å¤•ç«‹æ™´",
        "ç¾Šç¾¤ã®æœ€å¾Œã¯ ã™ã™ãæŒã¤å°‘å¹´",
        "ã‚»ã‚¤ã‚¦ãƒã® éº»é…”ã®åŠ¹ãç›® å¤ã®ç©º",
        "æ—±æ˜Ÿ ãƒ©ã‚¸ã‚ªã¯ä½™éœ‡ ã—ã‚‰ã›ãŠã‚Š",
        "å»ƒæ‘ã® ãƒã‚¹ãƒˆã«å°é³¥ æ¥ã¦å¤œæ˜ã‘",
        "é“åŒ–å¸«ã® ã‚®ãƒ£ãƒ­ãƒƒãƒ—ã®ã”ã¨ ç‰§é–‹",
        "ä¸‡ç·‘ã« æã’ã¦ éºå“ã®ç´™è¢‹",
        "é€£è¦‡ã®ã•ãã¶ã‚Œ æ²¸ãç«‹ã¤åˆé›»è»Š",
      )
    )
    binding.recyclerView.adapter = adapter
  }
}
```

## å®Ÿè¡Œçµæœ

![](https://storage.googleapis.com/zenn-user-upload/n8mpcrkbby1askubo0ig3xxkvuqp)
*android:requiresFadingEdge="vertical"*

## æœªè¨­å®šã®å ´åˆ

![](https://storage.googleapis.com/zenn-user-upload/h5qphc4ch3cyvky389fia4879ru3)
*android:requiresFadingEdge="none"*
